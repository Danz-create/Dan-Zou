{% assign NAV_BG  = '#7a2d14' %}   {%- comment -%} 内页导航背景色 {%- endcomment -%}
{% assign NAV_INK = '#7a2d14' %}   {%- comment -%} 内页导航文字色 {%- endcomment -%}

<div class="masthead{% if page.url != '/' %} masthead--inner{% endif %}">
  <div class="masthead__inner-wrap"
       {% if page.url != '/' %}
       style="background: {{ NAV_BG }}; border-bottom: 1px solid rgba(255,255,255,.18); padding-top:.4rem; padding-bottom:.4rem;"
       {% endif %}>

    {% if page.url != '/' %}
{% if page.url != '/' %}
{% if page.url != '/' %}
{% if page.url != '/' %}
<style>
  /* ================= 统一配色 ================= */
  :root{
    --pink-bg: #FBE8EE;   /* 浅粉：页面统一底色 */
    --nav-ink: #5A2A17;   /* 顶部导航文字深棕 */
    --text-ink: #444444;  /* 侧栏/正文文字深灰 */
  }

  /* 1) 整页背景：确保滚动到底也保持浅粉 */
  html, body { background: var(--pink-bg) !important; }
  #main, .initial-content, .page, .archive, .page__inner-wrap, .page__content {
    background: transparent !important;
    color: var(--text-ink) !important;
  }

  /* 2) 顶部导航：浅粉底 + 深棕字；去掉链接白底/白框 */
  .masthead--inner,
  .masthead--inner .masthead__inner-wrap,
  .masthead--inner .greedy-nav {
    background: var(--pink-bg) !important;
    border: none !important;
    box-shadow: none !important;
  }
  .masthead--inner .site-title,
  .masthead--inner .greedy-nav a,
  .masthead--inner #theme-toggle i {
    color: var(--nav-ink) !important;
    fill:  var(--nav-ink) !important;
  }
  /* 关键：把导航项的白底/白圆角/阴影全部清掉 */
  .masthead--inner .greedy-nav a {
    background: transparent !important;
    box-shadow: none !important;
    border: 0 !important;
    border-radius: 0 !important;
  }
  .masthead--inner .greedy-nav a:hover { opacity:.85; }

  /* 导航间距适度收紧 */
  .masthead--inner{ padding:.4rem 0 !important; }
  .masthead--inner .greedy-nav .visible-links>li{ margin:0 .5rem !important; }
  .masthead--inner .greedy-nav a{ padding:.35rem .4rem !important; line-height:1.2 !important; font-size:1rem !important; }

  /* 3) 让容器真正贴屏幕边缘（去掉主题默认左右 padding） */
  .masthead--inner .masthead__inner-wrap{ padding-left: 0 !important; padding-right: 12px !important; }
  .masthead--inner ~ #main .page__inner-wrap{ padding-left: 0 !important; padding-right: 12px !important; }

  /* 4) 侧边栏贴最左、同为浅粉、文字深灰 */
  .masthead--inner ~ #main .sidebar{
    background: var(--pink-bg) !important;
    color: var(--text-ink) !important;
    width: 300px !important;                /* 想更宽：320/340 */
    padding: 1.2rem 1.4rem !important;
    margin-left: 0 !important;              /* 贴到容器最左 */
    border: none !important;
    box-shadow: none !important;
    transform: translateX(0) !important;    /* 防止旧版负边距的影响 */
  }
  /* 如果仍看到左边还差一点点，可把 margin-left 设为负值微调：
     .masthead--inner ~ #main .sidebar { margin-left: -8px !important; } */

  .masthead--inner ~ #main .sidebar a{ color: var(--text-ink) !important; }
  .masthead--inner ~ #main .sidebar a:hover{ opacity:.85; }
  .masthead--inner ~ #main .sidebar .author__avatar{ background:transparent !important; }
  .masthead--inner ~ #main .sidebar .author__avatar img{ border-radius:50%; width:120px !important; height:120px !important; }

  /* 5) 主体为侧栏让路（= 侧栏宽度 + 24 余量） */
  .masthead--inner ~ #main .archive,
  .masthead--inner ~ #main .page,
  .masthead--inner ~ #main .page__content,
  .masthead--inner ~ #main .initial-content{
    margin-left: 324px !important;
  }

  /* 6) 粘性侧栏避让导航 */
  @media (min-width:801px){
    .masthead--inner ~ #main .sidebar.sticky{ top:72px !important; }
  }
  .masthead--inner ~ #main .page__title{ margin-top:.4rem !important; }
</style>
{% endif %}

{% endif %}

{% endif %}

    {% endif %}

    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><span class="navicon"></span></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg persist">
            <a class="site-title" href="{{ '/' | relative_url }}">{{ site.title }}</a>
          </li>

          {% for link in site.data.navigation.main %}
            <li class="masthead__menu-item"><a href="{{ link.url | relative_url }}">{{ link.title }}</a></li>
          {% endfor %}

          <li id="theme-toggle" class="masthead__menu-item persist tail">
            <a role="button" aria-labelledby="theme-icon">
              <i id="theme-icon" class="fa-solid fa-sun" aria-hidden="true" title="toggle theme"></i>
            </a>
          </li>
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>
